USE final_project;

DROP TABLE IF EXISTS accident;   
CREATE TABLE final_project.accident (
        ST_CASE INT PRIMARY KEY,
        YEAR INT,
        MONTH INT,
        DAY INT,
        DAY_WEEK INT,
        HOUR INT,
        MINUTE INT,
        LATITUDE INT,
        LONGITUD INT,
        STATE INT,
        STATENAME VARCHAR(50),
        COUNTY INT,
        COUNTYNAME VARCHAR(50),
        CITY INT,
        CITYNAME VARCHAR(50),
        RUR_URB INT,
        RUR_URBNAME VARCHAR(50),
        RD_OWNER INT,
        RD_OWNERNAME VARCHAR(80),
        PERSONS INT,
        PERMVIT INT,
        PERNOTMVIT INT,
        VE_TOTAL INT,
        PVH_INVL INT,
        HARM_EV INT,
        HARM_EVNAME VARCHAR(250),
        FATALS INT,
        NOT_HOUR INT,
        NOT_MIN INT,
        ARR_HOUR INT,
        ARR_MIN INT,
        HOSP_HR INT,
        HOSP_MN INT
    );

DROP TABLE IF EXISTS drugs;
CREATE TABLE drugs (
		ID INT AUTO_INCREMENT PRIMARY KEY,
		ST_CASE INT,
		DRUGRES INT,
        DRUGRESNAME VARCHAR(150),
        VEH_NO INT,
        PER_NO INT,
        FOREIGN KEY (ST_CASE) REFERENCES accident(ST_CASE)
);

DROP TABLE IF EXISTS maneuver;
CREATE TABLE maneuver (
		ID INT AUTO_INCREMENT PRIMARY KEY,
		ST_CASE INT,
		MANEUVER INT,
        MANEUVERNAME VARCHAR(100),
        VEH_NO INT,
        FOREIGN KEY (ST_CASE) REFERENCES accident(ST_CASE)
);

DROP TABLE IF EXISTS person;
CREATE TABLE person (
		ID INT AUTO_INCREMENT PRIMARY KEY,
		ST_CASE INT,
		VEH_NO INT,
        PER_NO INT,
        AGE INT,
        SEXNAME VARCHAR(100),
        PER_TYP INT,
        PER_TYPNAME VARCHAR(100),
        INJ_SEV INT,
        INJ_SEVNAME VARCHAR(50),
        SEAT_POS INT,
        SEAT_POSNAME VARCHAR(100),
        REST_MIS INT,
        REST_MISNAME VARCHAR(50),
        HELM_MIS INT,
        HELM_MISNAME VARCHAR(50),
        DRINKING INT,
        DRINKINGNAME VARCHAR(50),
        DEATH_DA INT,
        FOREIGN KEY (ST_CASE) REFERENCES accident(ST_CASE)
);

DROP TABLE IF EXISTS distract;
CREATE TABLE distract (
		ID INT AUTO_INCREMENT PRIMARY KEY,
		ST_CASE INT,
		DRDISTRACT INT,
        DRDISTRACTNAME VARCHAR(100),
        VEH_NO INT,
        FOREIGN KEY (ST_CASE) REFERENCES accident(ST_CASE)
);

DROP TABLE IF EXISTS vehicle;
CREATE TABLE vehicle (
		ID INT AUTO_INCREMENT PRIMARY KEY,
		ST_CASE INT,
		VEH_NO INT,
        BODY_TYP INT,
        BODY_TYPNAME VARCHAR(150),
        VPICMAKE INT,
        VPICMAKENAME VARCHAR(100),
        VPICMODEL INT,
        VPICMODELNAME VARCHAR(150),
        VPICBODYCLASS INT,
        VPICBODYCLASSNAME VARCHAR(100),
        MOD_YEAR INT,
        GVWR_FROM INT,
        GVWR_FROMNAME VARCHAR(100),
        BUS_USE INT,
        BUS_USENAME VARCHAR(50),
        SPEC_USE INT,
        SPEC_USENAME VARCHAR(100),
        EMER_USE INT,
        EMER_USENAME VARCHAR(100),
        NUMOCCS INT,
        ROLLOVER INT,
        ROLLOVERNAME VARCHAR(50),
        ROLINLOC INT,
        ROLINLOCNAME VARCHAR(50),
        IMPACT1 INT,
        IMPACT1NAME VARCHAR(100),
        TOWED INT,
        TOWEDNAME VARCHAR(50),
        M_HARM INT,
        M_HARMNAME VARCHAR(200),
        VSURCOND INT,
        VSURCONDNAME VARCHAR(50),
        ACC_TYPE INT,        
        ACC_TYPENAME VARCHAR(150),
        DR_PRES INT,
        DR_PRESNAME	 VARCHAR(50),
        L_COMPL INT,
        L_COMPLNAME VARCHAR(100),
        L_RESTRI INT,
        L_RESTRINAME VARCHAR(100),
        PREV_ACC INT,
        PREV_SUS1 INT,
        PREV_DWI INT,
        PREV_SPD INT,
        SPEEDREL INT,
        SPEEDRELNAME VARCHAR(80),
        HIT_RUN INT,
        HIT_RUNNAME VARCHAR(10),
        FOREIGN KEY (ST_CASE) REFERENCES accident(ST_CASE)
);

DROP TABLE IF EXISTS weather;
CREATE TABLE weather (
		ID INT AUTO_INCREMENT PRIMARY KEY,
		ST_CASE INT,
		WEATHER INT,
        WEATHERNAME VARCHAR(50),
        FOREIGN KEY (ST_CASE) REFERENCES accident(ST_CASE)
);